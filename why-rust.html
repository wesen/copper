<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title></title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <base href="">

        <link rel="stylesheet" href="book.css">
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">

        <!-- MathJax -->
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));
            }
        </script>
    </head>
    <body class="light">
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme = localStorage.getItem('theme');
            if (theme == null) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var sidebar = localStorage.getItem('sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter"><li><a href="./intro.html"><strong>1.</strong> Introduction</a></li><li><ul class="section"><li><a href="./audience.html"><strong>1.1.</strong> Audience</a></li><li><a href="./why-rust.html" class="active"><strong>1.2.</strong> Why Rust?</a></li><li><a href="./why-arm.html"><strong>1.3.</strong> Why ARM Cortex-M micros?</a></li><li><a href="./what-dev-board.html"><strong>1.4.</strong> What dev board should I use/get?</a></li></ul></li><li><a href="./tools.html"><strong>2.</strong> Setting up a development environment</a></li><li><ul class="section"><li><a href="./linux.html"><strong>2.1.</strong> Linux</a></li><li><a href="./macos.html"><strong>2.2.</strong> macOS</a></li><li><a href="./windows.html"><strong>2.3.</strong> Windows</a></li></ul></li><li><a href="./first/prog.html"><strong>3.</strong> First program</a></li><li><ul class="section"><li><a href="./first/build.html"><strong>3.1.</strong> Build &amp; inspect</a></li><li><a href="./first/qemu.html"><strong>3.2.</strong> Run it under QEMU</a></li><li><a href="./details.html"><strong>3.3.</strong> Nitty-gritty details</a></li><li><ul class="section"><li><a href="./details/target.html"><strong>3.3.1.</strong> Target specification</a></li><li><a href="./details/boot.html"><strong>3.3.2.</strong> Boot process</a></li><li><a href="./details/ld.html"><strong>3.3.3.</strong> Linker script</a></li></ul></li><li><a href="./first/flash.html"><strong>3.4.</strong> Run it on real hardware</a></li></ul></li><li><a href="./exceptions.html"><strong>4.</strong> Exceptions: Crashing your micro</a></li><li><a href="./blink.html"><strong>5.</strong> Blinking an LED</a></li><li class="spacer"></li><li class="affix">Work In Progress chapters</li><li class="affix"><a href="./optimize.html">(Mis)Optimization</a></li><li class="affix"><a href="registers.html">Zero-cost type-safe register manipulation</a></li><li class="affix"><a href="hal.html">Abstracting Hardware</a></li><li class="affix"><a href="./peripherals.html">Peripherals</a></li><li class="spacer"></li><li class="affix"><a href="./unwritten.html">Unwritten topics</a></li><li class="spacer"></li><li class="affix"><a href="./resources.html">Resources</a></li><li class="affix"><a href="./faq.html">FAQ</a></li><li class="spacer"></li><li class="affix">Published using mdBook</li></ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <i id="print-button" class="fa fa-print" title="Print this book"></i>
                    </div>
                </div>

                <div id="content" class="content">
                    <h1>Why Rust?</h1>
<blockquote>
<p>Why program in Rust and not in C?</p>
</blockquote>
<p>C is (probably) the most used programming language for development of embedded systems (citation
needed). However I've decided to use Rust in this material for the following reasons:</p>
<ul>
<li>Rust gives you C-like low level control over aspects like memory management and struct layout /
memory representation while not imposing a runtime and still providing high level features like
closures, traits/generics, tagged unions, pattern matching and someday, I hope, (state-machine)
<a href="https://github.com/rust-lang/rfcs/issues/1081#issuecomment-221396554">generators</a> (this <a href="https://dwrensha.github.io/capnproto-rust/2016/05/28/async-generators.html">blog post</a> fleshes out the idea a bit more).</li>
</ul>
<ul>
<li>
<p>The Rust distribution ships with a package manager, Cargo, that encourages splitting your
programs in reusable crates (libraries) by greatly simplifying dependency management. Cargo also
encourages not reinventing the wheel by providing access to a central repository where the Rust
community publishes and shares their crates.</p>
</li>
<li>
<p>Testing and documentation infrastructure are provided for, in part, by Cargo meaning you don't
need to choose from many competing options, or reinvent the wheel</p>
</li>
<li>
<p>One can use pretty much all of the existing C tooling on Rust programs. For example:</p>
<ul>
<li>You can use binary inspection tools like <code>objdump</code>, <code>nm</code>, <code>readelf</code>, <code>size</code>, etc.</li>
<li>You can use <code>gdb</code>/<code>lldb</code> to debug your program. Things like step-by-step execution, breakpoints,
watchpoints, printing variables, etc. Just Work.</li>
<li>You can run your program under an emulator like QEMU.</li>
</ul>
</li>
<li>
<p>Some people find Rust more approachable and/or less scary than C. This means that they are more
likely to explore this area of programming using Rust than using C.</p>
</li>
<li>
<p>And, most importantly, I like Rust and its awesome community.</p>
</li>
</ul>
<blockquote>
<p><strong>TODO</strong> Rust &amp; C++ comparison</p>
</blockquote>
<h2>Disadvantages of not using C</h2>
<p>Or advantages of using C instead of Rust:</p>
<ul>
<li>
<p>Device support. Some less known architectures, like the Xtensa, but with huge communities behind
them, like the ESP8266 (google it!), are not supported by LLVM and therefore you can't build Rust
programs for microcontrollers of that architecture.</p>
</li>
<li>
<p>Commercial/IDE support. There are lots (compared to Rust) of commercial IDEs, SDKs, RTOSes for
developing firmware in C.</p>
</li>
<li>
<p>Toolchain Stability. The C toolchain is pretty stable and well vetted at this point for embedded
development while Rust is still growing its embedded ecosystem.</p>
</li>
<li>
<p>MISRA C and other standards for producing &quot;high-reliability&quot; code have not been created yet for
Rust (but the opportunity is there)</p>
</li>
</ul>
<blockquote>
<p><strong>TODO</strong> More advantages of using C. I haven't thought this through thoroughly.</p>
</blockquote>

                </div>

                <!-- Mobile navigation buttons -->
                
                    <a href="./audience.html" class="mobile-nav-chapters previous">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="./why-arm.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

            </div>

            
                <a href="./audience.html" class="nav-chapters previous" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-left"></i>
                </a>
            

            
                <a href="./why-arm.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
            

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if ($(".fa").css("font-family") !== "FontAwesome") {
                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');
            }
        </script>

        <!-- Livereload script (if served using the cli tool) -->
        

        <script src="highlight.js"></script>
        <script src="book.js"></script>
    </body>
</html>
